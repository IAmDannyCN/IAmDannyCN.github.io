<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>IAD's Blog</title><meta name="author" content="I_Am_Danny"><meta name="copyright" content="I_Am_Danny"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="I_Am_Not_Danny">
<meta property="og:type" content="website">
<meta property="og:title" content="IAD&#39;s Blog">
<meta property="og:url" content="http://blog.iamdanny.online/index.html">
<meta property="og:site_name" content="IAD&#39;s Blog">
<meta property="og:description" content="I_Am_Not_Danny">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://blog.iamdanny.online/img/icon.JPG">
<meta property="article:author" content="I_Am_Danny">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://blog.iamdanny.online/img/icon.JPG"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://blog.iamdanny.online/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'IAD\'s Blog',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-07-16 19:02:14'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/icon.JPG" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">2</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/banner.png')"><nav id="nav"><span id="blog-info"><a href="/" title="IAD's Blog"><span class="site-name">IAD's Blog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">IAD's Blog</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/IAmDannyCN" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/07/16/%E9%9A%8F%E7%AC%94/%E6%B5%8B%E8%AF%95/" title="测试">测试</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-07-16T10:54:44.000Z" title="发表于 2024-07-16 18:54:44">2024-07-16</time></span></div><div class="content">TEST
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/07/16/%E8%AF%BE%E7%A8%8B/%E5%B7%B2%E5%AE%8C%E7%BB%93/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%AF%BC%E8%AE%BA-%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" title="机器学习导论_期末复习">机器学习导论_期末复习</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-07-16T10:37:37.000Z" title="发表于 2024-07-16 18:37:37">2024-07-16</time></span></div><div class="content">Chapter 0 对偶对偶问题考虑最优化目标为：$$\min\quad f_0(x)$$$$\text{s.t.}\quad f_i(x)\leq0\quad\forall i&#x3D;1,\cdots,n$$$$\quad\quad g_i(x)&#x3D;0\quad\forall i&#x3D;1,\cdots,m$$于是写出拉格朗日函数为：$$L(x;\lambda,v)&#x3D;f_0(x)+\sum_{i&#x3D;1}^n\lambda_if_i(x)+\sum_{i&#x3D;1}^mv_ig_i(x)$$由此得到对偶函数为：$$g(\lambda,v)&#x3D;\min_{x}L(x;\lambda,v)$$于是对偶问题为：$$\min\quad g(\lambda,v)$$$$\text{s.t.}\quad \lambda_i\geq 0\quad \forall i&#x3D;1,\cdots,n$$
KKT条件对于凸优化问题，有：$$f_i(x)\leq 0,\quad g_i(x)&#x3D;0,\quad \lambda_i\geq 0,\quad ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/07/16/%E8%AF%BE%E7%A8%8B/%E5%B7%B2%E5%AE%8C%E7%BB%93/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(jyyOS)_L%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/" title="操作系统(jyyOS)_L实验报告">操作系统(jyyOS)_L实验报告</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-07-16T08:01:53.000Z" title="发表于 2024-07-16 16:01:53">2024-07-16</time></span></div><div class="content">L1 - pmm得分情况通过了所有 Easy Test 和 3 个 Hard Test。最后一个 Hard Test 由于 Kalloc fail on low memory pressure 未通过。
基本设计在目前提交的版本中，我的设计如下：

将所有空间以页为单位进行种类的划分，分别是：slab 页、缓存页、全局页。
在初始状态下，每个 cpu 得到一些缓存页，剩余全部为全局页，不存在 slab 页。
申请的顺序为：先申请 slab 页，若失败则再申请缓存页，若失败则最后申请全局页。
当进行 alloc 请求时，根据申请空间的大小决定申请入口。若申请空间不足1页，则从 slab 页开始申请；若恰好为1页，则从缓存页开始申请；若大于1页，则直接申请全局页。
当进行 free 请求时，首先判断其是否来自 slab 页，判断方法为检查 ptr 是否与页框对齐（在分配时保证非整页的分配一定不与页框对齐）。若其来自 slab 页，则归还到 slab 中；反之直接归还到调用 free 的 cpu 的缓存页。因此全局页会不断变少。

slab页机制：

一个 slab 页会固定按照一个大小进行 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2024/07/16/%E8%AF%BE%E7%A8%8B/%E5%B7%B2%E5%AE%8C%E7%BB%93/%E4%BF%A1%E6%81%AF%E8%AE%BA%E5%9F%BA%E7%A1%80_%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" title="信息论基础_期末复习">信息论基础_期末复习</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-07-16T07:40:06.000Z" title="发表于 2024-07-16 15:40:06">2024-07-16</time></span></div><div class="content">熵基本概念熵：$H(X)&#x3D;-\sum_{x} p(x)\log p(x)$条件熵：$H(X|Y)&#x3D;H(X,Y)-H(Y)&#x3D;\sum_y p(y)H(X|Y&#x3D;y)&#x3D;-\mathbb{E}[\log p(X|Y)]$互信息：$I(X;Y)&#x3D;\sum_{x\in\mathcal{X}}\sum_{y\in\mathcal{Y}}p(x,y)\log\frac{p(x,y)}{p(x)p(y)}&#x3D;H(X)+H(Y)-H(XY)&#x3D;H(X)-H(X|Y)$相对熵（$KL$ 散度）：$D(p|q)&#x3D;\sum_x p(x)\log \frac{p(x)}{q(x)}$
链式法则
$H(X_1,X_2,\cdots,X_n)&#x3D;\sum_{i}H(X_1|X_1,X_2,\cdots,X_i)$
$I(X_1,X_2,…,X_n;Y)&#x3D;I(X_1;Y)+I(X_2;Y|X_1)+I(X_3;Y|X_1,X_2)+…+I(X_n;Y|X_1,…,X_{n-1})$
$D(p(x,y)|q(x,y)) ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/1970/01/01/%E8%AF%BE%E7%A8%8B/6.824_Lab1/" title="无题">无题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="1970-01-01T00:00:00.000Z" title="发表于 1970-01-01 08:00:00">1970-01-01</time></span></div><div class="content">待完成
</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/icon.JPG" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">I_Am_Danny</div><div class="author-info__description">I_Am_Not_Danny</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">2</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/IAmDannyCN"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/IAmDannyCN" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/07/16/%E9%9A%8F%E7%AC%94/%E6%B5%8B%E8%AF%95/" title="测试">测试</a><time datetime="2024-07-16T10:54:44.000Z" title="发表于 2024-07-16 18:54:44">2024-07-16</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/07/16/%E8%AF%BE%E7%A8%8B/%E5%B7%B2%E5%AE%8C%E7%BB%93/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%AF%BC%E8%AE%BA-%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" title="机器学习导论_期末复习">机器学习导论_期末复习</a><time datetime="2024-07-16T10:37:37.000Z" title="发表于 2024-07-16 18:37:37">2024-07-16</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/07/16/%E8%AF%BE%E7%A8%8B/%E5%B7%B2%E5%AE%8C%E7%BB%93/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(jyyOS)_L%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/" title="操作系统(jyyOS)_L实验报告">操作系统(jyyOS)_L实验报告</a><time datetime="2024-07-16T08:01:53.000Z" title="发表于 2024-07-16 16:01:53">2024-07-16</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/07/16/%E8%AF%BE%E7%A8%8B/%E5%B7%B2%E5%AE%8C%E7%BB%93/%E4%BF%A1%E6%81%AF%E8%AE%BA%E5%9F%BA%E7%A1%80_%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" title="信息论基础_期末复习">信息论基础_期末复习</a><time datetime="2024-07-16T07:40:06.000Z" title="发表于 2024-07-16 15:40:06">2024-07-16</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/1970/01/01/%E8%AF%BE%E7%A8%8B/6.824_Lab1/" title="无题">无题</a><time datetime="1970-01-01T00:00:00.000Z" title="发表于 1970-01-01 08:00:00">1970-01-01</time></div></div></div></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 1.1em; color: #999">随笔</a> <a href="/tags/NJU/" style="font-size: 1.5em; color: #99a9bf">NJU</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">七月 2024</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/1970/01/"><span class="card-archive-list-date">一月 1970</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">5</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-07-16T11:02:14.105Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 By I_Am_Danny</div><div class="footer_custom_text"><style>.custom-link { font-family: "微软雅黑 Bold"; font-size: 16px; color: #0016BA; text-decoration: none; transition: color 0.5s, opacity 0.5s; } .custom-link:hover { color: #C40003; text-decoration: none; } .custom-link:visited { color: #0016BA; } </style><script>function changeTextOnHover(element, newText, originalText) { element.onmouseover = function() { element.style.opacity = 0; setTimeout(function() { element.innerText = newText; element.style.opacity = 1; }, 500); }; element.onmouseout = function() { element.style.opacity = 0; setTimeout(function() { element.innerText = originalText; element.style.opacity = 1; }, 500); }; } window.onload = function() { var linkElement = document.getElementById("custom-link"); changeTextOnHover(linkElement, "如潮涌至 领你归乡", "愿为逝者哀哭 泣下如雨 充盈渡川"); };</script><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Ri421X7sS" id="custom-link" class="custom-link">愿为逝者哀哭 泣下如雨 充盈渡川</a><br></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>